<!DOCTYPE html>
<html>
    <head>
        <title>Flask SocketIO Chat Example</title>
        <script src="https://cdn.socket.io/3.1.3/socket.io.min.js"></script>
        <script>
            var socket = io.connect('http://' + document.domain + ':' + location.port);

            socket.on('connect', function() {
                console.log('connected to server');
            });

            socket.on('message', function(data) {
                print(data)
            });

            socket.on('show', function(msg) {
            console.log('Received show event with message:', msg);
            var h1 = document.createElement('h1');
            h1.textContent = msg;
            document.body.appendChild(h1);
            });

            function sendMessage() {
                var input = document.querySelector('#username');
                // console.log(window.location.href + input.value);
                // window.location.assign(window.location.href + input.value);
                socket.send(input.value);
                input.value = '';
            }
           
        </script>
    </head>
    <body>
        <h2>Welcome To The Game</h2>
        <h3>Please enter your name</h3>
        <input id="username" type="text">
        <button onclick="navigateToClient()">join</button>
        <script>
            function navigateToClient() {
                var username = document.getElementById('username').value;
                // window.location.href = 'client.html';
                if (username.trim() !== '') {
                    // var url = encodeURIComponent(username);
                    window.location.href = "/" + username;
                }
            }
        </script>   
    </body>
</html>